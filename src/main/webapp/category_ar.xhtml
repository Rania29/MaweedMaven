<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions">
    <h:head>
        <title>Category</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href="resources/css/Normalize.css" rel="stylesheet" type="text/css"/>
        <link href="resources/css/indexcssAR.css" rel="stylesheet" type="text/css"/>
        <link href="resources/css/search-ar-css.css" rel="stylesheet" type="text/css"/>
        <script src="resources/javascript/hamburger_menu.js" type="text/javascript"></script>
        <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-129442662-1"></script>
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-129442662-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());

            gtag('config', 'UA-129442662-1');
            var availableTags = #{hospitalController.autocomplete("arabic")};
            $(function () {
                $("#search-form\\:search").autocomplete({
                    source: availableTags
                });
            });
        </script>
    </h:head>
    <h:body>
        <div class="top-div">
            <div class="left-div">
                <a href="index_ar.xhtml">عربي</a>
                <a id="separator">|</a>
                <a href="category.xhtml">English</a>
            </div>
            <div class="right-div">
                <c:if test="#{guestController.valid}">
                    <h:form>
                        <h:commandLink action="#{guestController.saveCurrentPage('/category_ar?faces-redirect=true', '/signin_ar?faces-redirect=true')}" value="دخول"/>
                        <a class="separator">|</a>
                        <h:commandLink action="#{guestController.saveCurrentPage('/category_ar?faces-redirect=true', '/registration_ar?faces-redirect=true')}" value="تسجيل"/>
                    </h:form>
                </c:if>
                <c:if test="#{!guestController.valid}">
                    <h:outputText title="مرحبا" style="color: white;"/>
                    <div class="tooltip">
                        <h:link  value="#{guestController.selected.inArabic}"
                                 outcome="#{guestController.saveCurrentPage('/category_ar?faces-redirect=true', '/user_profile_ar?faces-redirect=true')}" />
                        <span class="tooltiptext">بروفايل المستخدم</span>
                    </div>
                    <a class="separator">| </a>
                    <h:form style="display: inline-block;">
                        <h:commandButton class="log_out" action="#{guestController.logout()}" value="Logout"/>
                    </h:form>
                </c:if>
            </div>
        </div>

        <header class="header-top">
            <div class="logo">
                <a href="index_ar.xhtml"><img src="resources/interface/logo.png" alt="Logo image"/></a>
            </div> 
            <!--Hamburger button and menu-->
            <div class="container" onclick="myFunction(this)">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
            </div>

            <nav id="myDropdown" class="menu">
                <a href="index_ar.xhtml" class="item_menu">الرئيسية</a>
                <a href="about_ar.html" class="item_menu">عن موعد</a>
                <a href="contact_ar.xhtml" class="item_menu">تواصل معنا</a>
                <a href="help_ar.xhtml" class="item_menu">مساعدة</a>
            </nav>

            <div class="search-box">
                <div class="center-search">
                    <h:form id="search-form" class="form-style">
                        <h:selectOneMenu class="select-style" value="#{appointmentController.hospital.area}" title="#{bundle.CreateHospitalTitle_areaId}" >
                            <f:selectItem itemLabel="المنطقه" itemValue=""/>
                            <f:selectItems value="#{areaController.findAreaNameArabic()}" var="n"
                                           itemLabel="#{n}" 
                                           itemValue="#{n}"/>
                        </h:selectOneMenu>
                        <h:inputText a:placeholder="ابحث باسم المستشفى" id="search" value="#{appointmentController.hospital.inArabic}"/>
                        <h:commandLink value="بحث" class="hidden-link1" action="#{appointmentController.findHospitalsByInArabicName()}"/>
                        <h:commandLink class="hidden-link" action="#{appointmentController.findHospitalsByInArabicName()}" >
                            <img src="resources/interface/magnifying-glass.png" class="search-icon" alt="search"/>
                        </h:commandLink>
                    </h:form>

                </div>
            </div>
        </header><!--Header End-->

        <nav class="navbar">
            <ul>
                <li><a  href="index.xhtml">الرئيسية</a></li>
                <li><a href="#" style="color: #445268" class="dropcat">الأقسام</a>
                    <ul>
                        <c:forEach items="#{categoryController.findCategories()}" var="c">
                            <li>
                                <h:form>
                                    <h:commandLink action="#{categoryController.toCategoryArabic(c)}" value="#{c.inArabic}"/> 
                                </h:form>
                            </li>
                        </c:forEach>
                    </ul>
                </li>
                <li><a  href="about_ar.xhtml">عن الموقع</a></li>
                <li><a  href="contact_ar.xhtml">التواصل</a></li>
                <li><a  href="help_ar.xhtml">مساعدة</a></li>
            </ul>
        </nav><!--Navigation bar End-->

        <div class="main_div">
            <h2 class="cat-name">#{categoryController.current.inArabic}</h2>
            <div class="result">
                <div class="result_items">
                    <h:form>
                        <c:forEach items="#{categoryController.hospitals}" var="h">
                            <div class="clnk-div">
                                <h:commandLink action="#{appointmentController.toClinicArabic(h)}"><img src="#{fn:substringAfter(hospitalimageController.findFirstImage(h) , '/')}" alt="صورة المستشفى"/></h:commandLink>
                                <h:commandLink action="#{appointmentController.toClinicArabic(h)}"><span class="clnk-name">#{h.inArabic}</span></h:commandLink>
                                <span class="clnk-location">#{h.area.inArabic}</span>
                            </div>
                        </c:forEach>
                    </h:form>
                </div>
            </div>
        </div>
        <footer>
                <div class="upper-footer">
                    <a href="terms-and-conditions-ar.xhtml">الشروط والأحكام</a>
                    <a class="separator">|</a>
                    <a href="privacy-policy-ar.xhtml">سياسة الخصوصية</a>
                    <a class="separator">|</a>
                    <a href="help_ar.xhtml">المساعدة</a>
                </div>
                <div class="lower-footer">
                    <h2>موعد</h2>
                    <h6>جميع الحقوق محفوظة | حقوق الطبع 2018.</h6>
                </div>
            </footer>
    </h:body>
</html>

